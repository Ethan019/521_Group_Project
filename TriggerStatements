--CREATE TRIGGER SRECORDINSTRIG
--	AFTER INSERT ON REGISTERED FOR
--	FOR EACH ROW
--	BEGIN
--		INSERT INTO STUDENTRECORD VALUES(:NEW.STUDENTID, :NEW.COURSENUM, :NEW.GRADE, :NEW.SEMESTER, :NEW.YEAR)
--	END;
--/;


--CREATE TRIGGER SRECORDUPDTRIG
--	AFTER UPDATE ON REGISTERED FOR
--	FOR EACH COLUMN
--	BEGIN
--		ALTER TABLE STUDENT RECORD
--		ALTER COLUMN GRADE WHERE STUDNETID = OLD.STUDENT.ID;
--	END;
--/;


--Liz : Change Trigger(s) to MySQL Syntax 

CREATE TRIGGER SRECGRADEUPDTRIG
	AFTER UPDATE ON REGISTEREDFOR
	REFERENCING
		NEW ROW AS new
	FOR EACH ROW
		UPDATE STUDENTRECORD SET GRADE = new.GRADE WHERE USERID = STUDID;
	
CREATE TRIGGER SRECORDINSTRIG
	AFTER INSERT ON REGISTEREDFOR
	REFERENCING NEW ROW AS new
	FOR EACH ROW
		INSERT INTO STUDENTRECORD(STUDID, COURSENUM, SEMESTER, YEAR) VALUES (new.STUDID, new.COURSENUM, new.SEMESTER, new.YEAR);
